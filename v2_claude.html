<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Future Resume Simulator V2ï¼ˆHTMLå˜ä½“ãƒ‡ãƒ¢ï¼‰</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700;900&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <script>
    // Tailwind config (optional)
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Noto Sans JP", "ui-sans-serif", "system-ui"] },
          colors: {
            levNavy: "#0033A0",
            levNavyDeep: "#0f172a",
            levBlue: "#0055CC",
            levOrange: "#FF6B00",
            levOrangeDeep: "#E65100",
          }
        }
      }
    };
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      font-family: "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
      background: #f5f7fa;
      color: #333;
    }

    /* Navbar - ãƒ¬ãƒãƒ†ãƒƒã‚¯é¢¨ */
    .navbar {
      background: #0033A0;
      box-shadow: 0 2px 8px rgba(0, 51, 160, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 1.25rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .logo {
      color: white;
      font-size: 1.25rem;
      font-weight: 800;
      letter-spacing: .01em;
      white-space: nowrap;
    }

    .nav-steps {
      display: flex;
      gap: .75rem;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .step-btn {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      background: transparent;
      border: 1px solid rgba(255,255,255,.3);
      color: rgba(255,255,255,.85);
      padding: .5rem .9rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all .25s ease;
      font-size: .875rem;
      user-select: none;
    }

    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(255,255,255,.2);
      font-weight: 800;
      font-size: .8rem;
      line-height: 1;
    }

    .step-btn:hover {
      background: rgba(255,255,255,.12);
      border-color: rgba(255,255,255,.55);
      transform: translateY(-1px);
    }

    .step-btn.active {
      background: #FF6B00;
      border-color: #FF6B00;
      color: white;
      box-shadow: 0 8px 22px rgba(255, 107, 0, 0.25);
    }

    .step-btn.active .step-number { background: rgba(255,255,255,.28); }

    /* Main Content */
    .main-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1.25rem;
      opacity: 0;
      transform: translateY(10px);
      transition: all .5s ease;
    }
    .main-content.animate { opacity: 1; transform: translateY(0); }

    /* Header Section */
    .header-section { margin-bottom: 2rem; }
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: .5rem;
      font-size: .875rem;
      color: #666;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .breadcrumb .current { color: #0033A0; font-weight: 700; }
    .page-title {
      display: flex;
      align-items: center;
      gap: .75rem;
      font-size: 2rem;
      font-weight: 900;
      color: #0033A0;
      margin-bottom: .75rem;
      flex-wrap: wrap;
    }
    .page-title i { color: #0033A0; }
    .page-description {
      font-size: 1rem;
      color: #666;
      line-height: 1.8;
    }

    /* Profile Summary */
    .profile-summary {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 2rem;
      margin-bottom: 3rem;
      align-items: stretch;
    }

    .profile-card {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }

    .profile-card.target {
      border-color: #FF6B00;
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.06), white);
      box-shadow: 0 12px 28px rgba(255, 107, 0, 0.12);
    }

    .profile-card h3 {
      font-size: 1rem;
      color: #666;
      margin-bottom: 1.25rem;
      text-align: center;
      font-weight: 700;
    }

    .profile-details { display: flex; flex-direction: column; gap: 1rem; }
    .detail-row {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      padding-bottom: .75rem;
      border-bottom: 1px solid #f0f0f0;
    }
    .detail-row .label { font-size: .875rem; color: #666; }
    .detail-row .value { font-weight: 700; color: #111827; text-align: right; }
    .detail-row .highlight { color: #0033A0; font-size: 1.25rem; font-weight: 900; }
    .detail-row .highlight-target { color: #FF6B00; font-size: 1.25rem; font-weight: 900; }

    .arrow-between {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      color: #9aa3b2;
      min-width: 150px;
    }
    .gap-amount {
      font-size: .875rem;
      font-weight: 800;
      color: #FF6B00;
      background: rgba(255, 107, 0, 0.10);
      border: 1px solid rgba(255, 107, 0, 0.25);
      padding: .35rem .6rem;
      border-radius: 999px;
    }

    /* Gap Visualization */
    .gap-visualization {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }
    .section-title {
      font-size: 1.5rem;
      font-weight: 900;
      color: #0033A0;
      margin-bottom: 2rem;
    }

    .gap-chart-container {
      display: grid;
      grid-template-columns: 500px 1fr;
      gap: 3rem;
      align-items: start;
    }

    .radar-section { display: flex; flex-direction: column; align-items: center; gap: .8rem; }
    .radar-wrap {
      width: 100%;
      height: 420px;
      background: linear-gradient(180deg, rgba(0, 51, 160, 0.03), rgba(255,255,255,1));
      border: 1px solid #eef2f7;
      border-radius: 14px;
      padding: 1rem;
    }

    .legend { display: flex; gap: 1.25rem; margin-top: .25rem; flex-wrap: wrap; justify-content: center; }
    .legend-item { display: flex; align-items: center; gap: .5rem; font-size: .875rem; font-weight: 700; color: #334155; }
    .legend-color { width: 14px; height: 14px; border-radius: 4px; }
    .legend-color.current { background: #0033A0; }
    .legend-color.target { background: #FF6B00; box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.18); }

    .gap-details { display: flex; flex-direction: column; gap: 1.25rem; }
    .gap-detail-card {
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 1.5rem;
      background: #fafafa;
    }

    .gap-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .gap-header h4 { font-size: 1.125rem; color: #111827; font-weight: 900; }
    .gap-badge {
      background: #FFF3E0;
      color: #FF6B00;
      padding: .25rem .75rem;
      border-radius: 999px;
      font-size: .875rem;
      font-weight: 900;
      border: 1px solid rgba(255, 107, 0, 0.25);
    }

    .gap-comparison { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1rem; }
    .comparison-item { display: flex; flex-direction: column; gap: .5rem; }
    .comparison-item .label {
      font-size: .75rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: .06em;
      font-weight: 800;
    }
    .comparison-item .value { font-size: .9rem; color: #111827; font-weight: 800; }

    .bar {
      position: relative;
      height: 32px;
      background: #e5e7eb;
      border-radius: 10px;
      overflow: hidden;
    }
    .bar .fill {
      position: absolute;
      height: 100%;
      background: linear-gradient(90deg, #0033A0, #0055CC);
      transition: width .6s ease;
    }
    .comparison-item.target .bar .fill { background: linear-gradient(90deg, #FF6B00, #FF8C33); }
    .bar .score {
      position: absolute;
      right: .75rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: .875rem;
      font-weight: 900;
      color: white;
      text-shadow: 0 1px 2px rgba(0,0,0,.25);
    }

    .impact-note {
      display: flex;
      align-items: center;
      gap: .5rem;
      font-size: .875rem;
      color: #FF6B00;
      font-weight: 900;
    }

    /* Career Pattern Comparison */
    .similarity-badges {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .similarity-badge {
      display: flex;
      align-items: center;
      gap: .5rem;
      padding: .75rem 1.25rem;
      border-radius: 12px;
      font-size: .875rem;
      font-weight: 900;
    }
    .similarity-badge.success { background: #E8F5E9; color: #2E7D32; border: 1px solid rgba(46,125,50,.25); }
    .similarity-badge.failure { background: #FFEBEE; color: #C62828; border: 1px solid rgba(198,40,40,.25); }

    .three-way-comparison {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.25rem;
      margin-bottom: 3rem;
    }

    .career-column {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.04);
    }
    .career-column.success { border-color: #4CAF50; background: linear-gradient(180deg, rgba(76,175,80,.06), white); }
    .career-column.you { border-color: #0033A0; background: linear-gradient(180deg, rgba(0,51,160,.06), white); }
    .career-column.failure { border-color: #F44336; background: linear-gradient(180deg, rgba(244,67,54,.06), white); }

    .column-header {
      display: flex;
      flex-direction: column;
      gap: .5rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #e5e7eb;
      margin-bottom: 1.25rem;
    }
    .column-header h3 {
      display: flex;
      align-items: center;
      gap: .5rem;
      font-size: 1.05rem;
      color: #111827;
      font-weight: 900;
    }

    .result-badge {
      padding: .25rem .75rem;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 900;
      width: fit-content;
    }
    .result-badge.success { background: #4CAF50; color: white; }
    .result-badge.neutral { background: #0033A0; color: white; }
    .result-badge.failure { background: #F44336; color: white; }

    .timeline { display: flex; flex-direction: column; }
    .timeline-item { display: flex; gap: 1rem; margin-bottom: 1.25rem; }
    .timeline-marker { position: relative; display: flex; flex-direction: column; align-items: center; }
    .marker-dot {
      width: 12px; height: 12px; border-radius: 50%;
      background: #0033A0;
      border: 3px solid white;
      box-shadow: 0 0 0 2px #0033A0;
      z-index: 1;
    }
    .timeline-marker.positive .marker-dot { background: #4CAF50; box-shadow: 0 0 0 2px #4CAF50; }
    .timeline-marker.negative .marker-dot { background: #F44336; box-shadow: 0 0 0 2px #F44336; }
    .timeline-marker.gap .marker-dot { background: #FF9800; box-shadow: 0 0 0 2px #FF9800; }

    .marker-line {
      width: 2px;
      flex: 1;
      background: linear-gradient(180deg, #0033A0, rgba(0,51,160,.3));
      margin-top: .5rem;
      border-radius: 999px;
    }
    .timeline-marker.positive .marker-line { background: linear-gradient(180deg, #4CAF50, rgba(76,175,80,.3)); }
    .timeline-marker.negative .marker-line { background: linear-gradient(180deg, #F44336, rgba(244,67,54,.3)); }

    .timeline-content { flex: 1; padding-bottom: .75rem; }
    .year-label { font-size: .75rem; color: #64748b; font-weight: 900; margin-bottom: .4rem; }
    .company-type-badge {
      display: inline-block;
      padding: .2rem .5rem;
      border-radius: 8px;
      font-size: .75rem;
      font-weight: 900;
      margin-bottom: .5rem;
      border: 1px solid rgba(0,0,0,.06);
    }
    .company-type-badge.success { background: #E8F5E9; color: #2E7D32; }
    .company-type-badge.neutral { background: #E3F2FD; color: #1565C0; }
    .company-type-badge.failure { background: #FFEBEE; color: #C62828; }

    .company-name { font-size: .875rem; color: #64748b; margin-bottom: .2rem; font-weight: 700; }
    .role-title { font-size: 1rem; font-weight: 900; color: #111827; margin-bottom: .45rem; }
    .salary-tag {
      display: inline-block;
      padding: .25rem .75rem;
      background: #0033A0;
      color: white;
      border-radius: 10px;
      font-size: .875rem;
      font-weight: 900;
      margin-bottom: .75rem;
      box-shadow: 0 10px 22px rgba(0,51,160,.18);
    }
    .responsibility { font-size: .875rem; color: #64748b; margin-bottom: .75rem; font-weight: 700; }

    .skills { display: flex; flex-wrap: wrap; gap: .5rem; margin-bottom: .75rem; }
    .skill-tag {
      padding: .25rem .5rem;
      background: #f0f0f0;
      border-radius: 10px;
      font-size: .75rem;
      color: #111827;
      font-weight: 800;
      border: 1px solid rgba(0,0,0,.06);
    }

    .action-taken {
      display: flex;
      align-items: flex-start;
      gap: .5rem;
      padding: .75rem;
      background: #E8F5E9;
      border-left: 3px solid #4CAF50;
      border-radius: 10px;
      font-size: .875rem;
      color: #2E7D32;
      margin-top: .5rem;
      font-weight: 800;
    }

    .gap-reasons {
      padding: .75rem;
      background: #FFF3E0;
      border-left: 3px solid #FF9800;
      border-radius: 10px;
      margin-top: .5rem;
    }
    .gap-reasons.negative { background: #FFEBEE; border-left-color: #F44336; }

    .reasons-list { display: flex; flex-direction: column; gap: .5rem; margin-top: .5rem; }
    .reason-item { display: flex; align-items: flex-start; gap: .5rem; font-size: .75rem; color: #D84315; font-weight: 800; }
    .gap-reasons.negative .reason-item { color: #C62828; }

    /* Insights Section */
    .insights-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }
    .insights-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
    .insight-card { border-radius: 12px; padding: 1.5rem; border: 2px solid transparent; }
    .insight-card.success { background: #E8F5E9; border-color: #4CAF50; }
    .insight-card.failure { background: #FFEBEE; border-color: #F44336; }
    .insight-card h4 { display: flex; align-items: center; gap: .5rem; font-size: 1.125rem; margin-bottom: 1rem; color: #111827; font-weight: 900; }
    .insight-card ul { list-style: none; display: flex; flex-direction: column; gap: .75rem; }
    .insight-card li { padding-left: 1.5rem; position: relative; font-size: .875rem; line-height: 1.7; font-weight: 700; color: #111827; }
    .insight-card li::before { content: "â€¢"; position: absolute; left: 0; font-weight: 900; }
    .insight-card.success li::before { color: #4CAF50; }
    .insight-card.failure li::before { color: #F44336; }

    /* Action Plan */
    .roadmap-overview {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }
    .roadmap-visual {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      max-width: 900px;
      margin: 0 auto;
      flex-wrap: wrap;
    }
    .roadmap-step { text-align: center; min-width: 180px; }
    .step-marker { font-size: 3rem; margin-bottom: .5rem; filter: drop-shadow(0 2px 4px rgba(0,0,0,.1)); }
    .step-content { display: flex; flex-direction: column; gap: .25rem; }
    .step-label { font-size: .75rem; color: #64748b; text-transform: uppercase; letter-spacing: .06em; font-weight: 900; }
    .step-role { font-size: 1rem; font-weight: 900; color: #111827; }
    .step-salary { font-size: 1.125rem; font-weight: 900; color: #FF6B00; }

    .roadmap-arrow { display: flex; flex-direction: column; align-items: center; gap: .35rem; color: #94a3b8; min-width: 120px; }
    .duration { font-size: .75rem; color: #64748b; font-weight: 900; }

    .action-plan-list {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }

    .action-card {
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.25rem;
      transition: all .25s ease;
      background: white;
    }
    .action-card:hover {
      box-shadow: 0 12px 24px rgba(0, 51, 160, 0.10);
      transform: translateY(-2px);
    }
    .action-card.priority-æœ€å„ªå…ˆ {
      border-color: #FF6B00;
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.06), white);
    }

    .action-header { margin-bottom: 1rem; }
    .action-meta { display: flex; gap: .75rem; flex-wrap: wrap; }

    .priority-badge {
      padding: .25rem .75rem;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .06em;
      border: 1px solid rgba(0,0,0,.06);
    }
    .priority-badge.æœ€å„ªå…ˆ { background: #FF6B00; color: white; border-color: rgba(255,107,0,.45); }
    .priority-badge.å„ªå…ˆ { background: #FFB74D; color: white; border-color: rgba(255,183,77,.55); }
    .priority-badge.é‡è¦ { background: #90CAF9; color: #0033A0; border-color: rgba(144,202,249,.7); }

    .period-badge {
      display: inline-flex;
      align-items: center;
      gap: .35rem;
      padding: .25rem .75rem;
      background: #f0f0f0;
      border-radius: 999px;
      font-size: .75rem;
      color: #475569;
      font-weight: 900;
      border: 1px solid rgba(0,0,0,.06);
    }

    .action-title {
      font-size: 1.25rem;
      font-weight: 900;
      color: #0033A0;
      margin-bottom: 1rem;
    }

    .action-body { display: flex; flex-direction: column; gap: 1rem; }
    .why-important, .next-steps { font-size: .875rem; }
    .why-important strong, .next-steps strong { display: block; margin-bottom: .5rem; color: #111827; font-weight: 900; }
    .why-important p, .next-steps p { color: #475569; line-height: 1.75; font-weight: 700; }

    .impact-section {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      padding: 1rem;
      background: #FFF3E0;
      border-radius: 12px;
      border: 1px solid rgba(255, 107, 0, 0.2);
      flex-wrap: wrap;
    }
    .impact-badge { display: flex; align-items: center; gap: .75rem; }
    .impact-dimension { display: block; font-size: .75rem; color: #475569; font-weight: 900; }
    .impact-point { display: block; font-size: 1.125rem; font-weight: 900; color: #FF6B00; }
    .salary-impact { font-size: 1rem; font-weight: 900; color: #FF6B00; }

    /* Recommended Jobs */
    .recommended-jobs {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 10px 24px rgba(0, 51, 160, 0.06);
    }
    .recommended-description { font-size: .875rem; color: #475569; margin-bottom: 1.25rem; font-weight: 700; }
    .job-preview { margin-bottom: 1.25rem; }
    .job-card {
      display: flex;
      gap: 1.5rem;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 1.5rem;
      align-items: center;
      flex-wrap: wrap;
    }
    .match-rate { display: flex; flex-direction: column; align-items: center; gap: .5rem; min-width: 110px; }
    .match-circle {
      width: 84px;
      height: 84px;
      border-radius: 50%;
      background: linear-gradient(135deg, #0033A0, #0055CC);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      font-weight: 900;
      box-shadow: 0 14px 26px rgba(0, 51, 160, 0.25);
    }
    .match-rate span { font-size: .75rem; color: #475569; font-weight: 900; }

    .job-info { flex: 1; min-width: 260px; }
    .job-info h4 { font-size: 1.125rem; color: #0033A0; margin-bottom: .5rem; font-weight: 900; }
    .company { font-size: .875rem; color: #475569; margin-bottom: .75rem; font-weight: 700; }
    .job-tags { display: flex; flex-wrap: wrap; gap: .5rem; margin-bottom: .75rem; }
    .tag {
      padding: .25rem .75rem;
      background: #E3F2FD;
      color: #0033A0;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 900;
      border: 1px solid rgba(21,101,192,.15);
    }
    .salary-range { font-size: 1.125rem; font-weight: 900; color: #FF6B00; }

    .view-all-jobs {
      width: 100%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      padding: 1rem;
      background: #FF6B00;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 900;
      cursor: pointer;
      transition: all .25s ease;
      box-shadow: 0 14px 26px rgba(255, 107, 0, 0.22);
    }
    .view-all-jobs:hover {
      background: #E65100;
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(255, 107, 0, 0.30);
    }

    /* Next Button */
    .next-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .75rem;
      width: 100%;
      max-width: 520px;
      margin: 2rem auto 0;
      padding: 1rem 2rem;
      background: #FF6B00;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.05rem;
      font-weight: 900;
      cursor: pointer;
      transition: all .25s ease;
      box-shadow: 0 14px 26px rgba(255, 107, 0, 0.22);
    }
    .next-button:hover {
      background: #E65100;
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(255, 107, 0, 0.30);
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .gap-chart-container { grid-template-columns: 1fr; }
      .three-way-comparison { grid-template-columns: 1fr; }
      .insights-grid { grid-template-columns: 1fr; }
      .profile-summary { grid-template-columns: 1fr; }
      .arrow-between { transform: rotate(90deg); margin: 1rem 0; min-width: auto; }
      .radar-wrap { height: 380px; }
    }

    @media (max-width: 768px) {
      .nav-steps { display: none; }
      .roadmap-visual { flex-direction: column; gap: 1.5rem; }
      .roadmap-arrow { transform: rotate(90deg); }
    }
  </style>
</head>

<body>
  <div class="app">
    <!-- NAV -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <div class="logo">ãƒ¬ãƒãƒ†ãƒƒã‚¯ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</div>
        </div>
        <div class="nav-steps" role="tablist" aria-label="ã‚¹ãƒ†ãƒƒãƒ—åˆ‡ã‚Šæ›¿ãˆ">
          <button class="step-btn active" data-step="1" aria-selected="true" role="tab">
            <span class="step-number">1</span> ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
          </button>
          <button class="step-btn" data-step="2" aria-selected="false" role="tab">
            <span class="step-number">2</span> ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ
          </button>
          <button class="step-btn" data-step="3" aria-selected="false" role="tab">
            <span class="step-number">3</span> ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
          </button>
        </div>
      </div>
    </nav>

    <!-- MAIN -->
    <main id="mainContent" class="main-content">
      <!-- Step 1 -->
      <section id="step1" class="step-panel">
        <div class="gap-analysis-container">
          <div class="header-section">
            <div class="breadcrumb">
              <span>ãƒ›ãƒ¼ãƒ </span>
              <span aria-hidden="true">â€º</span>
              <span class="current">ã‚ãªãŸã®æœªæ¥ã®è·å‹™çµŒæ­´æ›¸</span>
            </div>
            <h1 class="page-title">
              <i class="fa-solid fa-bullseye" aria-hidden="true"></i>
              ã‚ãªãŸã¨ç†æƒ³ã®ã‚­ãƒ£ãƒªã‚¢ã®ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
            </h1>
            <p class="page-description">
              ç¾åœ¨ã®çŠ¶æ…‹ã¨ç›®æ¨™ï¼ˆ<span id="targetRoleText"></span>ãƒ»å¹´å<span id="targetSalaryText"></span>ä¸‡å††ï¼‰ã‚’æ¯”è¼ƒã—ã€<br />
              ä½•ã‚’æ”¹å–„ã™ã‚Œã°åˆ°é”ã§ãã‚‹ã‹ã‚’æ˜ç¢ºã«ã—ã¾ã™
            </p>
          </div>

          <div class="profile-summary">
            <div class="profile-card">
              <h3>ç¾åœ¨ã®çŠ¶æ…‹</h3>
              <div class="profile-details">
                <div class="detail-row">
                  <span class="label">å½¹è·</span>
                  <span class="value" id="currentRoleText"></span>
                </div>
                <div class="detail-row">
                  <span class="label">å¹´å</span>
                  <span class="value highlight" id="currentSalaryText"></span>
                </div>
                <div class="detail-row">
                  <span class="label">å•†æµ</span>
                  <span class="value" id="currentCompanyTypeText"></span>
                </div>
              </div>
            </div>

            <div class="arrow-between">
              <i class="fa-solid fa-arrow-right fa-2xl" aria-hidden="true"></i>
              <span class="gap-amount" id="salaryGapText"></span>
            </div>

            <div class="profile-card target">
              <h3>ç›®æ¨™ã®çŠ¶æ…‹</h3>
              <div class="profile-details">
                <div class="detail-row">
                  <span class="label">å½¹è·</span>
                  <span class="value" id="targetRoleText2"></span>
                </div>
                <div class="detail-row">
                  <span class="label">å¹´å</span>
                  <span class="value highlight-target" id="targetSalaryText2"></span>
                </div>
                <div class="detail-row">
                  <span class="label">å•†æµ</span>
                  <span class="value">è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘</span>
                </div>
              </div>
            </div>
          </div>

          <div class="gap-visualization">
            <h2 class="section-title">4ã¤ã®è¦ç´ åˆ¥ã‚®ãƒ£ãƒƒãƒ—</h2>

            <div class="gap-chart-container">
              <div class="radar-section">
                <div class="radar-wrap">
                  <canvas id="radarChart" aria-label="ã‚®ãƒ£ãƒƒãƒ—ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ" role="img"></canvas>
                </div>
                <div class="legend" aria-label="å‡¡ä¾‹">
                  <div class="legend-item">
                    <div class="legend-color current"></div>
                    <span>ç¾åœ¨ã®ã‚ãªãŸ</span>
                  </div>
                  <div class="legend-item">
                    <div class="legend-color target"></div>
                    <span>ç›®æ¨™ã®çŠ¶æ…‹</span>
                  </div>
                </div>
              </div>

              <div class="gap-details" id="gapDetails"></div>
            </div>
          </div>

          <button class="next-button" id="toStep2">
            é¡ä¼¼ã‚­ãƒ£ãƒªã‚¢ã®æˆåŠŸãƒ»å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã‚‹
            <i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
          </button>
        </div>
      </section>

      <!-- Step 2 -->
      <section id="step2" class="step-panel" style="display:none;">
        <div class="pattern-comparison-container">
          <div class="header-section">
            <div class="breadcrumb">
              <span>ãƒ›ãƒ¼ãƒ </span><span aria-hidden="true">â€º</span>
              <span>ã‚®ãƒ£ãƒƒãƒ—åˆ†æ</span><span aria-hidden="true">â€º</span>
              <span class="current">ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ</span>
            </div>
            <h1 class="page-title">
              <i class="fa-solid fa-users" aria-hidden="true"></i>
              é¡ä¼¼ã‚­ãƒ£ãƒªã‚¢ã¨ã®æ¯”è¼ƒ
            </h1>
            <p class="page-description">
              ã‚ãªãŸã¨ä¼¼ãŸçµŒæ­´ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã€ã©ã®ã‚ˆã†ãªé¸æŠã§æˆåŠŸãƒ»åœæ»ã—ãŸã‹ã‚’æ¯”è¼ƒã—ã¾ã™
            </p>
          </div>

          <div class="similarity-badges">
            <div class="similarity-badge success">
              <i class="fa-solid fa-circle-check" aria-hidden="true"></i>
              <span id="successSimilarityText"></span>
            </div>
            <div class="similarity-badge failure">
              <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
              <span id="failureSimilarityText"></span>
            </div>
          </div>

          <div class="three-way-comparison">
            <!-- Success -->
            <div class="career-column success">
              <div class="column-header">
                <h3>
                  <i class="fa-solid fa-circle-check" aria-hidden="true"></i>
                  <span id="successNameText"></span>
                </h3>
                <span class="result-badge success">å¹´å 1,150ä¸‡å††é”æˆ</span>
              </div>
              <div class="timeline" id="successTimeline"></div>
            </div>

            <!-- You -->
            <div class="career-column you">
              <div class="column-header">
                <h3>
                  <i class="fa-solid fa-bullseye" aria-hidden="true"></i>
                  <span id="youNameText"></span>
                </h3>
                <span class="result-badge neutral" id="youResultBadge"></span>
              </div>
              <div class="timeline" id="youTimeline"></div>
            </div>

            <!-- Failure -->
            <div class="career-column failure">
              <div class="column-header">
                <h3>
                  <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
                  <span id="failureNameText"></span>
                </h3>
                <span class="result-badge failure">å¹´å 800ä¸‡å††ã§åœæ»</span>
              </div>
              <div class="timeline" id="failureTimeline"></div>
            </div>
          </div>

          <div class="insights-section">
            <h2 class="section-title">æˆåŠŸã¨å¤±æ•—ã®åˆ†å²ç‚¹</h2>
            <div class="insights-grid">
              <div class="insight-card success">
                <h4>
                  <i class="fa-solid fa-circle-check" aria-hidden="true"></i>
                  Aã•ã‚“ãŒæˆåŠŸã—ãŸç†ç”±
                </h4>
                <ul>
                  <li>2å¹´ç›®ã«éœ€è¦ã®é«˜ã„æŠ€è¡“ï¼ˆAWSãƒ»Goï¼‰ã‚’ç¿’å¾—</li>
                  <li>3å¹´ç›®ã«è‡ªç¤¾é–‹ç™ºä¼æ¥­ã¸è»¢è·ï¼ˆå•†æµæ”¹å–„ï¼‰</li>
                  <li>è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®æ¨©é™ã‚’ç²å¾—ï¼ˆå½¹å‰²å‘ä¸Šï¼‰</li>
                  <li>5å¹´ç›®ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ã‚’é–‹å§‹</li>
                </ul>
              </div>
              <div class="insight-card failure">
                <h4>
                  <i class="fa-solid fa-circle-xmark" aria-hidden="true"></i>
                  Bã•ã‚“ãŒåœæ»ã—ãŸç†ç”±
                </h4>
                <ul>
                  <li>åŒã˜æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§5å¹´é–“ï¼ˆéœ€è¦ãŒä½ä¸‹ï¼‰</li>
                  <li>å—è¨—é–‹ç™ºã‹ã‚‰è„±å´ã›ãšï¼ˆå•†æµå›ºå®šï¼‰</li>
                  <li>å®Ÿè£…ã®ã¿ã§è¨­è¨ˆæ¨©é™ãªã—ï¼ˆå½¹å‰²åœæ»ï¼‰</li>
                  <li>ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ã®æ©Ÿä¼šãªã—</li>
                </ul>
              </div>
            </div>
          </div>

          <button class="next-button" id="toStep3">
            å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã‚’è¦‹ã‚‹
            <i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
          </button>
        </div>
      </section>

      <!-- Step 3 -->
      <section id="step3" class="step-panel" style="display:none;">
        <div class="action-plan-container">
          <div class="header-section">
            <div class="breadcrumb">
              <span>ãƒ›ãƒ¼ãƒ </span><span aria-hidden="true">â€º</span>
              <span>ã‚®ãƒ£ãƒƒãƒ—åˆ†æ</span><span aria-hidden="true">â€º</span>
              <span>ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ</span><span aria-hidden="true">â€º</span>
              <span class="current">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³</span>
            </div>
            <h1 class="page-title">
              <i class="fa-solid fa-briefcase" aria-hidden="true"></i>
              ã‚ãªãŸå°‚ç”¨ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
            </h1>
            <p class="page-description">
              æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åŸºã«ã€å…·ä½“çš„ãªè¡Œå‹•è¨ˆç”»ã‚’ææ¡ˆã—ã¾ã™
            </p>
          </div>

          <div class="roadmap-overview">
            <h2 class="section-title">ã‚­ãƒ£ãƒªã‚¢ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</h2>
            <div class="roadmap-visual">
              <div class="roadmap-step current">
                <div class="step-marker">ğŸ“</div>
                <div class="step-content">
                  <span class="step-label">ç¾åœ¨</span>
                  <span class="step-role" id="roadmapCurrentRole"></span>
                  <span class="step-salary" id="roadmapCurrentSalary"></span>
                </div>
              </div>

              <div class="roadmap-arrow">
                <i class="fa-solid fa-arrow-right" aria-hidden="true"></i>
                <span class="duration">6ãƒ¶æœˆã€œ1å¹´</span>
              </div>

              <div class="roadmap-step next">
                <div class="step-marker">ğŸ¯</div>
                <div class="step-content">
                  <span class="step-label">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
                  <span class="step-role">ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰</span>
                  <span class="step-salary">Â¥900-1,000ä¸‡</span>
                </div>
              </div>

              <div class="roadmap-arrow">
                <i class="fa-solid fa-arrow-right" aria-hidden="true"></i>
                <span class="duration">1ã€œ2å¹´</span>
              </div>

              <div class="roadmap-step goal">
                <div class="step-marker">ğŸ†</div>
                <div class="step-content">
                  <span class="step-label">ç›®æ¨™</span>
                  <span class="step-role" id="roadmapTargetRole"></span>
                  <span class="step-salary" id="roadmapTargetSalary"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="action-plan-list">
            <h2 class="section-title">å„ªå…ˆé †ä½åˆ¥ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
            <div id="actionPlanList"></div>
          </div>

          <div class="recommended-jobs">
            <h2 class="section-title">æ¨å¥¨æ±‚äºº</h2>
            <p class="recommended-description">
              ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã«æ²¿ã£ãŸä¼æ¥­ãƒ»æ±‚äººã‚’15ä»¶è¦‹ã¤ã‘ã¾ã—ãŸ
            </p>

            <div class="job-preview">
              <div class="job-card">
                <div class="match-rate">
                  <div class="match-circle">82%</div>
                  <span>ãƒãƒƒãƒç‡</span>
                </div>
                <div class="job-info">
                  <h4>SaaSä¼æ¥­ã§ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</h4>
                  <p class="company">æˆé•·ä¸­ã®BtoB SaaSä¼æ¥­</p>
                  <div class="job-tags">
                    <span class="tag">Go</span>
                    <span class="tag">AWS</span>
                    <span class="tag">æŠ€è¡“é¸å®šæ¨©é™ã‚ã‚Š</span>
                  </div>
                  <div class="salary-range">Â¥800-1,100ä¸‡</div>
                </div>
              </div>
            </div>

            <button class="view-all-jobs">
              å…¨15ä»¶ã®æ¨å¥¨æ±‚äººã‚’è¦‹ã‚‹
              <i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // -----------------------------
    // Data (Reactã®state/constã‚’JSã«ç§»æ¤)
    // -----------------------------
    const currentProfile = {
      name: "ã‚ãªãŸ",
      currentRole: "ã‚·ãƒ‹ã‚¢ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢",
      experience: "5å¹´",
      currentSalary: 750,
      targetSalary: 1200,
      currentCompanyType: "å—è¨—é–‹ç™º",
      targetRole: "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼"
    };

    const gapData = {
      dimensions: [
        {
          name: 'å•†æµ',
          current: 60,
          target: 90,
          currentLabel: 'å—è¨—é–‹ç™ºï¼ˆ2æ¬¡è«‹ã‘ï¼‰',
          targetLabel: 'è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘',
          gap: 30,
          impact: 'å¹´åã¸ã®å½±éŸ¿: +200ä¸‡å††'
        },
        {
          name: 'éœ€è¦',
          current: 70,
          target: 85,
          currentLabel: 'Ruby on Railsä¸­å¿ƒ',
          targetLabel: 'ã‚¯ãƒ©ã‚¦ãƒ‰+ãƒ¢ãƒ€ãƒ³è¨€èª',
          gap: 15,
          impact: 'å¹´åã¸ã®å½±éŸ¿: +150ä¸‡å††'
        },
        {
          name: 'å½¹å‰²',
          current: 50,
          target: 85,
          currentLabel: 'ãƒ¡ãƒ³ãƒãƒ¼ãƒ»å®Ÿè£…æ‹…å½“',
          targetLabel: 'ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ãƒ»è¨­è¨ˆæ¨©é™',
          gap: 35,
          impact: 'å¹´åã¸ã®å½±éŸ¿: +250ä¸‡å††'
        },
        {
          name: 'ã‚¹ã‚­ãƒ«',
          current: 75,
          target: 90,
          currentLabel: 'Railså®Ÿè£…ã‚¹ã‚­ãƒ«',
          targetLabel: 'ã‚¤ãƒ³ãƒ•ãƒ©+è¨­è¨ˆ+ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ',
          gap: 15,
          impact: 'å¹´åã¸ã®å½±éŸ¿: +100ä¸‡å††'
        }
      ]
    };

    const careerPatterns = {
      you: {
        name: "ã‚ãªãŸï¼ˆç¾åœ¨ï¼‰",
        timeline: [
          {
            year: '1å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­A',
            type: 'å—è¨—',
            role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 600,
            skills: ['Ruby on Rails', 'MySQL'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: false
          },
          {
            year: '3å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­A',
            type: 'å—è¨—',
            role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 700,
            skills: ['Ruby on Rails', 'MySQL', 'jQuery'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: true,
            gapReasons: ['å•†æµãŒæ”¹å–„ã•ã‚Œã¦ã„ãªã„', 'æ–°æŠ€è¡“ã¸ã®æŠ•è³‡ä¸è¶³']
          },
          {
            year: '5å¹´ç›®ï¼ˆç¾åœ¨ï¼‰',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­B',
            type: 'å—è¨—',
            role: 'ã‚·ãƒ‹ã‚¢ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 750,
            skills: ['Ruby on Rails', 'MySQL', 'AWSï¼ˆåŸºç¤ï¼‰'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: true,
            gapReasons: ['è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®æ¨©é™ãªã—', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ãªã—', 'ã‚¯ãƒ©ã‚¦ãƒ‰çµŒé¨“ãŒæµ…ã„']
          }
        ]
      },
      success: {
        name: "Aã•ã‚“ï¼ˆæˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
        similarity: 89,
        timeline: [
          {
            year: '1å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­C',
            type: 'å—è¨—',
            role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 620,
            skills: ['Ruby on Rails', 'PostgreSQL'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: false,
            isPositive: true
          },
          {
            year: '2å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­C',
            type: 'å—è¨—',
            role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 700,
            skills: ['Ruby on Rails', 'AWS', 'Goï¼ˆå­¦ç¿’é–‹å§‹ï¼‰'],
            responsibility: 'å®Ÿè£…+AWSæ§‹ç¯‰',
            action: 'AWSèªå®šè³‡æ ¼å–å¾—ã€Goã®æ¥­å‹™å¤–å­¦ç¿’',
            hasGap: false,
            isPositive: true
          },
          {
            year: '3å¹´ç›®',
            company: 'SaaSä¼æ¥­Dï¼ˆè‡ªç¤¾é–‹ç™ºï¼‰',
            type: 'è‡ªç¤¾',
            role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 900,
            skills: ['Go', 'AWS', 'Kubernetes', 'Ruby'],
            responsibility: 'è¨­è¨ˆãƒ»æŠ€è¡“é¸å®š',
            action: 'è‡ªç¤¾é–‹ç™ºä¼æ¥­ã¸è»¢è·ã€æŠ€è¡“é¸å®šã®æ¨©é™ç²å¾—',
            hasGap: false,
            isPositive: true
          },
          {
            year: '5å¹´ç›®',
            company: 'SaaSä¼æ¥­D',
            type: 'è‡ªç¤¾',
            role: 'ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰',
            salary: 1150,
            skills: ['Go', 'AWS', 'Kubernetes', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ'],
            responsibility: 'ãƒãƒ¼ãƒ 3åãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ+æŠ€è¡“æˆ¦ç•¥',
            action: 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“é–‹å§‹',
            hasGap: false,
            isPositive: true
          }
        ]
      },
      failure: {
        name: "Bã•ã‚“ï¼ˆåœæ»ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
        similarity: 85,
        timeline: [
          {
            year: '1å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­E',
            type: 'å—è¨—',
            role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 600,
            skills: ['Ruby on Rails', 'MySQL'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: false
          },
          {
            year: '3å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­E',
            type: 'å—è¨—',
            role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 720,
            skills: ['Ruby on Rails', 'MySQL'],
            responsibility: 'å®Ÿè£…æ‹…å½“',
            hasGap: true,
            gapReasons: ['æ–°æŠ€è¡“ç¿’å¾—ãªã—', 'å•†æµå¤‰åŒ–ãªã—'],
            isNegative: true
          },
          {
            year: '5å¹´ç›®',
            company: 'å—è¨—é–‹ç™ºä¼æ¥­F',
            type: 'å—è¨—',
            role: 'ãƒªãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
            salary: 800,
            skills: ['Ruby on Rails', 'MySQL', 'ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ '],
            responsibility: 'ä¿å®ˆãƒ»å®Ÿè£…',
            hasGap: true,
            gapReasons: ['ãƒ¬ã‚¬ã‚·ãƒ¼æŠ€è¡“ä¸­å¿ƒ', 'è¨­è¨ˆæ¨©é™ãªã—', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ãªã—'],
            isNegative: true
          }
        ]
      }
    };

    const actionPlan = [
      {
        priority: 'æœ€å„ªå…ˆ',
        period: '3ãƒ¶æœˆä»¥å†…',
        action: 'AWSèªå®šè³‡æ ¼ï¼ˆSAAï¼‰å–å¾—',
        whyImportant: 'éœ€è¦ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
        impact: { dimension: 'éœ€è¦', point: '+10pt', salary: '+100ä¸‡å††ã®æœŸå¾…å€¤' },
        nextStep: '1. Udemyã§å­¦ç¿’é–‹å§‹ï¼ˆé€±5æ™‚é–“ï¼‰ 2. ãƒãƒ³ã‚ºã‚ªãƒ³å®Ÿè·µ 3. å—é¨“'
      },
      {
        priority: 'æœ€å„ªå…ˆ',
        period: '6ãƒ¶æœˆä»¥å†…',
        action: 'Goè¨€èªã®å®Ÿå‹™ãƒ¬ãƒ™ãƒ«ç¿’å¾—',
        whyImportant: 'éœ€è¦ãƒ»ã‚¹ã‚­ãƒ«ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
        impact: { dimension: 'éœ€è¦+ã‚¹ã‚­ãƒ«', point: '+15pt', salary: '+150ä¸‡å††ã®æœŸå¾…å€¤' },
        nextStep: '1. Goå…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« 2. å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ 3. æ¥­å‹™ã§å°è¦æ¨¡å°å…¥ææ¡ˆ'
      },
      {
        priority: 'å„ªå…ˆ',
        period: '1å¹´ä»¥å†…',
        action: 'è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘ä¼æ¥­ã¸ã®è»¢è·',
        whyImportant: 'å•†æµã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹æœ€é‡è¦æ–½ç­–',
        impact: { dimension: 'å•†æµ', point: '+30pt', salary: '+200-300ä¸‡å††ã®æœŸå¾…å€¤' },
        nextStep: '1. AWSãƒ»Goç¿’å¾—å¾Œã«è»¢è·æ´»å‹• 2. SaaSãƒ»è‡ªç¤¾ã‚µãƒ¼ãƒ“ã‚¹ä¼æ¥­ã‚’ä¸­å¿ƒã« 3. æŠ€è¡“é¸å®šæ¨©é™ã‚’ç¢ºèª'
      },
      {
        priority: 'é‡è¦',
        period: '1-2å¹´',
        action: 'è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®çµŒé¨“ç²å¾—',
        whyImportant: 'å½¹å‰²ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
        impact: { dimension: 'å½¹å‰²', point: '+20pt', salary: '+150ä¸‡å††ã®æœŸå¾…å€¤' },
        nextStep: '1. è»¢è·å…ˆã§è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼å‚åŠ  2. å°è¦æ¨¡ãªæŠ€è¡“é¸å®šã‹ã‚‰ 3. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆ'
      }
    ];

    // -----------------------------
    // Render helpers
    // -----------------------------
    const el = (id) => document.getElementById(id);

    const setText = (id, value) => { el(id).textContent = value; };

    const currencyMan = (n) => `Â¥${n}ä¸‡`;

    function createGapDetailCard(dim) {
      const wrap = document.createElement("div");
      wrap.className = "gap-detail-card";

      wrap.innerHTML = `
        <div class="gap-header">
          <h4>${dim.name}</h4>
          <span class="gap-badge">ã‚®ãƒ£ãƒƒãƒ—: ${dim.gap}pt</span>
        </div>
        <div class="gap-comparison">
          <div class="comparison-item current">
            <span class="label">ç¾åœ¨</span>
            <span class="value">${dim.currentLabel}</span>
            <div class="bar">
              <div class="fill" style="width:${dim.current}%"></div>
              <span class="score">${dim.current}pt</span>
            </div>
          </div>
          <div class="comparison-item target">
            <span class="label">ç›®æ¨™</span>
            <span class="value">${dim.targetLabel}</span>
            <div class="bar">
              <div class="fill" style="width:${dim.target}%"></div>
              <span class="score">${dim.target}pt</span>
            </div>
          </div>
        </div>
        <div class="impact-note">
          <i class="fa-solid fa-arrow-trend-up" aria-hidden="true"></i>
          <span>${dim.impact}</span>
        </div>
      `;
      return wrap;
    }

    function createTimelineItem(item, markerKind, columnKind) {
      // markerKind: positive | gap | negative | neutral
      const wrap = document.createElement("div");
      wrap.className = `timeline-item ${columnKind === "success" ? "positive" : ""}`;

      const marker = document.createElement("div");
      marker.className = `timeline-marker ${markerKind}`;

      marker.innerHTML = `
        <div class="marker-dot"></div>
        <div class="marker-line" style="display:${item._isLast ? "none" : "block"};"></div>
      `;

      const content = document.createElement("div");
      content.className = "timeline-content";

      const badgeClass =
        columnKind === "success" ? "success" :
        columnKind === "you" ? "neutral" : "failure";

      const companyTypeText = (item.type === "è‡ªç¤¾") ? "è‡ªç¤¾é–‹ç™º" : "å—è¨—é–‹ç™º";

      const skillsHtml = item.skills.map(s => `<span class="skill-tag">${s}</span>`).join("");

      const actionHtml = item.action
        ? `<div class="action-taken"><i class="fa-solid fa-award" aria-hidden="true"></i><span>${item.action}</span></div>`
        : "";

      const gapReasonsHtml = (item.hasGap && item.gapReasons)
        ? `
          <div class="gap-reasons ${columnKind === "failure" ? "negative" : ""}">
            <div style="display:flex; align-items:center; gap:.5rem; font-weight:900; color:${columnKind === "failure" ? "#C62828" : "#D84315"};">
              <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
              <span>ã‚®ãƒ£ãƒƒãƒ—ã®è¦å› </span>
            </div>
            <div class="reasons-list">
              ${item.gapReasons.map(r => `
                <div class="reason-item">
                  <i class="fa-solid fa-circle-xmark" aria-hidden="true"></i>
                  <span>${r}</span>
                </div>
              `).join("")}
            </div>
          </div>
        `
        : "";

      content.innerHTML = `
        <div class="year-label">${item.year}</div>
        <div class="company-type-badge ${badgeClass}">${companyTypeText}</div>
        <div class="company-name">${item.company}</div>
        <div class="role-title">${item.role}</div>
        <div class="salary-tag">${currencyMan(item.salary)}</div>
        <div class="responsibility">${item.responsibility}</div>
        <div class="skills">${skillsHtml}</div>
        ${actionHtml}
        ${gapReasonsHtml}
      `;

      wrap.appendChild(marker);
      wrap.appendChild(content);
      return wrap;
    }

    function renderTimeline(containerId, timeline, columnKind) {
      const container = el(containerId);
      container.innerHTML = "";

      timeline.forEach((item, idx) => {
        const _isLast = idx === timeline.length - 1;
        const enriched = { ...item, _isLast };

        let markerKind = "neutral";
        if (columnKind === "success") markerKind = "positive";
        if (columnKind === "you") markerKind = item.hasGap ? "gap" : "neutral";
        if (columnKind === "failure") markerKind = item.hasGap ? "negative" : "neutral";

        container.appendChild(createTimelineItem(enriched, markerKind, columnKind));
      });
    }

    function renderActionPlan() {
      const list = el("actionPlanList");
      list.innerHTML = "";

      actionPlan.forEach((a) => {
        const card = document.createElement("div");
        card.className = `action-card priority-${a.priority}`;

        card.innerHTML = `
          <div class="action-header">
            <div class="action-meta">
              <span class="priority-badge ${a.priority}">${a.priority}</span>
              <span class="period-badge">
                <i class="fa-regular fa-clock" aria-hidden="true"></i>
                ${a.period}
              </span>
            </div>
          </div>

          <h3 class="action-title">${a.action}</h3>

          <div class="action-body">
            <div class="why-important">
              <strong>ãªãœé‡è¦ã‹:</strong>
              <p>${a.whyImportant}</p>
            </div>

            <div class="impact-section">
              <div class="impact-badge">
                <i class="fa-solid fa-arrow-trend-up" aria-hidden="true"></i>
                <div>
                  <span class="impact-dimension">${a.impact.dimension}</span>
                  <span class="impact-point">${a.impact.point}</span>
                </div>
              </div>
              <span class="salary-impact">${a.impact.salary}</span>
            </div>

            <div class="next-steps">
              <strong>å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—:</strong>
              <p>${a.nextStep}</p>
            </div>
          </div>
        `;

        list.appendChild(card);
      });
    }

    // -----------------------------
    // Radar Chart (Recharts -> Chart.js)
    // -----------------------------
    let radarChartInstance = null;

    function renderRadarChart() {
      const ctx = document.getElementById('radarChart');

      if (radarChartInstance) {
        radarChartInstance.destroy();
        radarChartInstance = null;
      }

      const labels = gapData.dimensions.map(d => d.name);
      const currentValues = gapData.dimensions.map(d => d.current);
      const targetValues = gapData.dimensions.map(d => d.target);

      radarChartInstance = new Chart(ctx, {
        type: 'radar',
        data: {
          labels,
          datasets: [
            {
              label: 'ç›®æ¨™',
              data: targetValues,
              borderColor: '#FF6B00',
              backgroundColor: 'rgba(255, 107, 0, 0.25)',
              pointBackgroundColor: '#FF6B00',
              pointBorderColor: '#ffffff',
              pointHoverBackgroundColor: '#FF6B00',
              pointHoverBorderColor: '#ffffff',
              borderWidth: 2
            },
            {
              label: 'ç¾åœ¨',
              data: currentValues,
              borderColor: '#0033A0',
              backgroundColor: 'rgba(0, 51, 160, 0.40)',
              pointBackgroundColor: '#0033A0',
              pointBorderColor: '#ffffff',
              pointHoverBackgroundColor: '#0033A0',
              pointHoverBorderColor: '#ffffff',
              borderWidth: 2
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              min: 0,
              max: 100,
              ticks: {
                backdropColor: 'transparent',
                color: '#64748b',
                font: { size: 12, weight: '700' }
              },
              grid: { color: 'rgba(0, 51, 160, 0.10)' },
              angleLines: { color: 'rgba(0, 51, 160, 0.10)' },
              pointLabels: {
                color: '#111827',
                font: { size: 14, weight: '800' }
              }
            }
          },
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: (ctx) => `${ctx.dataset.label}: ${ctx.parsed.r}pt`
              }
            }
          },
          animation: { duration: 900 }
        }
      });
    }

    // -----------------------------
    // Step switching (React state -> JS state)
    // -----------------------------
    let activeStep = 1;

    function setActiveStep(step) {
      activeStep = step;

      // toggle panels
      el("step1").style.display = (step === 1) ? "block" : "none";
      el("step2").style.display = (step === 2) ? "block" : "none";
      el("step3").style.display = (step === 3) ? "block" : "none";

      // animate in
      const main = el("mainContent");
      main.classList.remove("animate");
      requestAnimationFrame(() => main.classList.add("animate"));

      // nav active
      document.querySelectorAll(".step-btn").forEach(btn => {
        const s = Number(btn.dataset.step);
        const isActive = s === step;
        btn.classList.toggle("active", isActive);
        btn.setAttribute("aria-selected", isActive ? "true" : "false");
      });

      // step-specific render
      if (step === 1) {
        renderRadarChart();
      }
    }

    // -----------------------------
    // Initial render
    // -----------------------------
    function hydrateStaticTexts() {
      setText("targetRoleText", currentProfile.targetRole);
      setText("targetSalaryText", currentProfile.targetSalary);

      setText("currentRoleText", currentProfile.currentRole);
      setText("currentSalaryText", currencyMan(currentProfile.currentSalary));
      setText("currentCompanyTypeText", currentProfile.currentCompanyType);

      setText("targetRoleText2", currentProfile.targetRole);
      setText("targetSalaryText2", currencyMan(currentProfile.targetSalary));

      setText("salaryGapText", `å¹´åå·® +${currencyMan(currentProfile.targetSalary - currentProfile.currentSalary)}`);

      // Step2
      setText("successSimilarityText", `Aã•ã‚“ï¼ˆæˆåŠŸï¼‰ã¨ã®é¡ä¼¼åº¦: ${careerPatterns.success.similarity}%`);
      setText("failureSimilarityText", `Bã•ã‚“ï¼ˆåœæ»ï¼‰ã¨ã®é¡ä¼¼åº¦: ${careerPatterns.failure.similarity}%`);
      setText("successNameText", careerPatterns.success.name);
      setText("youNameText", careerPatterns.you.name);
      setText("failureNameText", careerPatterns.failure.name);
      setText("youResultBadge", `å¹´å ${currentProfile.currentSalary}ä¸‡å††`);

      // Step3 roadmap
      setText("roadmapCurrentRole", currentProfile.currentRole);
      setText("roadmapCurrentSalary", currencyMan(currentProfile.currentSalary));
      setText("roadmapTargetRole", currentProfile.targetRole);
      setText("roadmapTargetSalary", `${currencyMan(currentProfile.targetSalary)}+`);
    }

    function renderGapDetails() {
      const container = el("gapDetails");
      container.innerHTML = "";
      gapData.dimensions.forEach(dim => container.appendChild(createGapDetailCard(dim)));

      // trigger bar animation
      requestAnimationFrame(() => {
        container.querySelectorAll(".bar .fill").forEach(fill => {
          // already has inline width; this just nudges repaint
          fill.style.filter = "saturate(1.02)";
        });
      });
    }

    function bindEvents() {
      document.querySelectorAll(".step-btn").forEach(btn => {
        btn.addEventListener("click", () => setActiveStep(Number(btn.dataset.step)));
      });

      el("toStep2").addEventListener("click", () => setActiveStep(2));
      el("toStep3").addEventListener("click", () => setActiveStep(3));
    }

    // Boot
    window.addEventListener("DOMContentLoaded", () => {
      hydrateStaticTexts();
      renderGapDetails();

      renderTimeline("successTimeline", careerPatterns.success.timeline, "success");
      renderTimeline("youTimeline", careerPatterns.you.timeline, "you");
      renderTimeline("failureTimeline", careerPatterns.failure.timeline, "failure");

      renderActionPlan();
      bindEvents();

      // initial animate
      const main = el("mainContent");
      requestAnimationFrame(() => main.classList.add("animate"));

      // initial chart
      renderRadarChart();
    });
  </script>
</body>
</html>
