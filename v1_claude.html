import React, { useState, useEffect } from 'react';
import { RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis, ResponsiveContainer } from 'recharts';
import { ChevronRight, TrendingUp, AlertCircle, CheckCircle2, XCircle, Target, Users, Briefcase, Clock, ArrowRight, Award } from 'lucide-react';

export default function FutureResumeSimulatorV2() {
  const [activeStep, setActiveStep] = useState(1);
  const [animateIn, setAnimateIn] = useState(false);

  useEffect(() => {
    setAnimateIn(true);
  }, [activeStep]);

  // ç¾åœ¨ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
  const currentProfile = {
    name: "ã‚ãªãŸ",
    currentRole: "ã‚·ãƒ‹ã‚¢ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢",
    experience: "5å¹´",
    currentSalary: 750,
    targetSalary: 1200,
    currentCompanyType: "å—è¨—é–‹ç™º",
    targetRole: "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼"
  };

  // ã‚®ãƒ£ãƒƒãƒ—åˆ†æãƒ‡ãƒ¼ã‚¿
  const gapData = {
    dimensions: [
      { 
        name: 'å•†æµ', 
        current: 60, 
        target: 90,
        currentLabel: 'å—è¨—é–‹ç™ºï¼ˆ2æ¬¡è«‹ã‘ï¼‰',
        targetLabel: 'è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘',
        gap: 30,
        impact: 'å¹´åã¸ã®å½±éŸ¿: +200ä¸‡å††'
      },
      { 
        name: 'éœ€è¦', 
        current: 70, 
        target: 85,
        currentLabel: 'Ruby on Railsä¸­å¿ƒ',
        targetLabel: 'ã‚¯ãƒ©ã‚¦ãƒ‰+ãƒ¢ãƒ€ãƒ³è¨€èª',
        gap: 15,
        impact: 'å¹´åã¸ã®å½±éŸ¿: +150ä¸‡å††'
      },
      { 
        name: 'å½¹å‰²', 
        current: 50, 
        target: 85,
        currentLabel: 'ãƒ¡ãƒ³ãƒãƒ¼ãƒ»å®Ÿè£…æ‹…å½“',
        targetLabel: 'ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ãƒ»è¨­è¨ˆæ¨©é™',
        gap: 35,
        impact: 'å¹´åã¸ã®å½±éŸ¿: +250ä¸‡å††'
      },
      { 
        name: 'ã‚¹ã‚­ãƒ«', 
        current: 75, 
        target: 90,
        currentLabel: 'Railså®Ÿè£…ã‚¹ã‚­ãƒ«',
        targetLabel: 'ã‚¤ãƒ³ãƒ•ãƒ©+è¨­è¨ˆ+ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ',
        gap: 15,
        impact: 'å¹´åã¸ã®å½±éŸ¿: +100ä¸‡å††'
      }
    ]
  };

  // ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ3äººæ¯”è¼ƒï¼‰
  const careerPatterns = {
    you: {
      name: "ã‚ãªãŸï¼ˆç¾åœ¨ï¼‰",
      timeline: [
        { 
          year: '1å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­A',
          type: 'å—è¨—',
          role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 600,
          skills: ['Ruby on Rails', 'MySQL'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: false
        },
        { 
          year: '3å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­A',
          type: 'å—è¨—',
          role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 700,
          skills: ['Ruby on Rails', 'MySQL', 'jQuery'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: true,
          gapReasons: ['å•†æµãŒæ”¹å–„ã•ã‚Œã¦ã„ãªã„', 'æ–°æŠ€è¡“ã¸ã®æŠ•è³‡ä¸è¶³']
        },
        { 
          year: '5å¹´ç›®ï¼ˆç¾åœ¨ï¼‰', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­B',
          type: 'å—è¨—',
          role: 'ã‚·ãƒ‹ã‚¢ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 750,
          skills: ['Ruby on Rails', 'MySQL', 'AWSï¼ˆåŸºç¤ï¼‰'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: true,
          gapReasons: ['è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®æ¨©é™ãªã—', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ãªã—', 'ã‚¯ãƒ©ã‚¦ãƒ‰çµŒé¨“ãŒæµ…ã„']
        }
      ]
    },
    success: {
      name: "Aã•ã‚“ï¼ˆæˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
      similarity: 89,
      timeline: [
        { 
          year: '1å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­C',
          type: 'å—è¨—',
          role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 620,
          skills: ['Ruby on Rails', 'PostgreSQL'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: false,
          isPositive: true
        },
        { 
          year: '2å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­C',
          type: 'å—è¨—',
          role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 700,
          skills: ['Ruby on Rails', 'AWS', 'Goï¼ˆå­¦ç¿’é–‹å§‹ï¼‰'],
          responsibility: 'å®Ÿè£…+AWSæ§‹ç¯‰',
          action: 'AWSèªå®šè³‡æ ¼å–å¾—ã€Goã®æ¥­å‹™å¤–å­¦ç¿’',
          hasGap: false,
          isPositive: true
        },
        { 
          year: '3å¹´ç›®', 
          company: 'SaaSä¼æ¥­Dï¼ˆè‡ªç¤¾é–‹ç™ºï¼‰',
          type: 'è‡ªç¤¾',
          role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 900,
          skills: ['Go', 'AWS', 'Kubernetes', 'Ruby'],
          responsibility: 'è¨­è¨ˆãƒ»æŠ€è¡“é¸å®š',
          action: 'è‡ªç¤¾é–‹ç™ºä¼æ¥­ã¸è»¢è·ã€æŠ€è¡“é¸å®šã®æ¨©é™ç²å¾—',
          hasGap: false,
          isPositive: true
        },
        { 
          year: '5å¹´ç›®', 
          company: 'SaaSä¼æ¥­D',
          type: 'è‡ªç¤¾',
          role: 'ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰',
          salary: 1150,
          skills: ['Go', 'AWS', 'Kubernetes', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ'],
          responsibility: 'ãƒãƒ¼ãƒ 3åãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ+æŠ€è¡“æˆ¦ç•¥',
          action: 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“é–‹å§‹',
          hasGap: false,
          isPositive: true
        }
      ]
    },
    failure: {
      name: "Bã•ã‚“ï¼ˆåœæ»ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
      similarity: 85,
      timeline: [
        { 
          year: '1å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­E',
          type: 'å—è¨—',
          role: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 600,
          skills: ['Ruby on Rails', 'MySQL'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: false
        },
        { 
          year: '3å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­E',
          type: 'å—è¨—',
          role: 'ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 720,
          skills: ['Ruby on Rails', 'MySQL'],
          responsibility: 'å®Ÿè£…æ‹…å½“',
          hasGap: true,
          gapReasons: ['æ–°æŠ€è¡“ç¿’å¾—ãªã—', 'å•†æµå¤‰åŒ–ãªã—'],
          isNegative: true
        },
        { 
          year: '5å¹´ç›®', 
          company: 'å—è¨—é–‹ç™ºä¼æ¥­F',
          type: 'å—è¨—',
          role: 'ãƒªãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
          salary: 800,
          skills: ['Ruby on Rails', 'MySQL', 'ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ '],
          responsibility: 'ä¿å®ˆãƒ»å®Ÿè£…',
          hasGap: true,
          gapReasons: ['ãƒ¬ã‚¬ã‚·ãƒ¼æŠ€è¡“ä¸­å¿ƒ', 'è¨­è¨ˆæ¨©é™ãªã—', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ãªã—'],
          isNegative: true
        }
      ]
    }
  };

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
  const actionPlan = [
    {
      priority: 'æœ€å„ªå…ˆ',
      period: '3ãƒ¶æœˆä»¥å†…',
      action: 'AWSèªå®šè³‡æ ¼ï¼ˆSAAï¼‰å–å¾—',
      whyImportant: 'éœ€è¦ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
      impact: {
        dimension: 'éœ€è¦',
        point: '+10pt',
        salary: '+100ä¸‡å††ã®æœŸå¾…å€¤'
      },
      nextStep: '1. Udemyã§å­¦ç¿’é–‹å§‹ï¼ˆé€±5æ™‚é–“ï¼‰ 2. ãƒãƒ³ã‚ºã‚ªãƒ³å®Ÿè·µ 3. å—é¨“'
    },
    {
      priority: 'æœ€å„ªå…ˆ',
      period: '6ãƒ¶æœˆä»¥å†…',
      action: 'Goè¨€èªã®å®Ÿå‹™ãƒ¬ãƒ™ãƒ«ç¿’å¾—',
      whyImportant: 'éœ€è¦ãƒ»ã‚¹ã‚­ãƒ«ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
      impact: {
        dimension: 'éœ€è¦+ã‚¹ã‚­ãƒ«',
        point: '+15pt',
        salary: '+150ä¸‡å††ã®æœŸå¾…å€¤'
      },
      nextStep: '1. Goå…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« 2. å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ 3. æ¥­å‹™ã§å°è¦æ¨¡å°å…¥ææ¡ˆ'
    },
    {
      priority: 'å„ªå…ˆ',
      period: '1å¹´ä»¥å†…',
      action: 'è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘ä¼æ¥­ã¸ã®è»¢è·',
      whyImportant: 'å•†æµã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹æœ€é‡è¦æ–½ç­–',
      impact: {
        dimension: 'å•†æµ',
        point: '+30pt',
        salary: '+200-300ä¸‡å††ã®æœŸå¾…å€¤'
      },
      nextStep: '1. AWSãƒ»Goç¿’å¾—å¾Œã«è»¢è·æ´»å‹• 2. SaaSãƒ»è‡ªç¤¾ã‚µãƒ¼ãƒ“ã‚¹ä¼æ¥­ã‚’ä¸­å¿ƒã« 3. æŠ€è¡“é¸å®šæ¨©é™ã‚’ç¢ºèª'
    },
    {
      priority: 'é‡è¦',
      period: '1-2å¹´',
      action: 'è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®çµŒé¨“ç²å¾—',
      whyImportant: 'å½¹å‰²ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹',
      impact: {
        dimension: 'å½¹å‰²',
        point: '+20pt',
        salary: '+150ä¸‡å††ã®æœŸå¾…å€¤'
      },
      nextStep: '1. è»¢è·å…ˆã§è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼å‚åŠ  2. å°è¦æ¨¡ãªæŠ€è¡“é¸å®šã‹ã‚‰ 3. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ææ¡ˆ'
    }
  ];

  // Step 1: ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
  const GapAnalysis = () => (
    <div className="gap-analysis-container">
      <div className="header-section">
        <div className="breadcrumb">
          <span>ãƒ›ãƒ¼ãƒ </span>
          <ChevronRight size={16} />
          <span className="current">ã‚ãªãŸã®æœªæ¥ã®è·å‹™çµŒæ­´æ›¸</span>
        </div>
        <h1 className="page-title">
          <Target size={32} />
          ã‚ãªãŸã¨ç†æƒ³ã®ã‚­ãƒ£ãƒªã‚¢ã®ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
        </h1>
        <p className="page-description">
          ç¾åœ¨ã®çŠ¶æ…‹ã¨ç›®æ¨™ï¼ˆ{currentProfile.targetRole}ãƒ»å¹´å{currentProfile.targetSalary}ä¸‡å††ï¼‰ã‚’æ¯”è¼ƒã—ã€<br />
          ä½•ã‚’æ”¹å–„ã™ã‚Œã°åˆ°é”ã§ãã‚‹ã‹ã‚’æ˜ç¢ºã«ã—ã¾ã™
        </p>
      </div>

      <div className="profile-summary">
        <div className="profile-card">
          <h3>ç¾åœ¨ã®çŠ¶æ…‹</h3>
          <div className="profile-details">
            <div className="detail-row">
              <span className="label">å½¹è·</span>
              <span className="value">{currentProfile.currentRole}</span>
            </div>
            <div className="detail-row">
              <span className="label">å¹´å</span>
              <span className="value highlight">Â¥{currentProfile.currentSalary}ä¸‡</span>
            </div>
            <div className="detail-row">
              <span className="label">å•†æµ</span>
              <span className="value">{currentProfile.currentCompanyType}</span>
            </div>
          </div>
        </div>

        <div className="arrow-between">
          <ArrowRight size={32} />
          <span className="gap-amount">å¹´åå·® +Â¥{currentProfile.targetSalary - currentProfile.currentSalary}ä¸‡</span>
        </div>

        <div className="profile-card target">
          <h3>ç›®æ¨™ã®çŠ¶æ…‹</h3>
          <div className="profile-details">
            <div className="detail-row">
              <span className="label">å½¹è·</span>
              <span className="value">{currentProfile.targetRole}</span>
            </div>
            <div className="detail-row">
              <span className="label">å¹´å</span>
              <span className="value highlight-target">Â¥{currentProfile.targetSalary}ä¸‡</span>
            </div>
            <div className="detail-row">
              <span className="label">å•†æµ</span>
              <span className="value">è‡ªç¤¾é–‹ç™ºãƒ»å…ƒè«‹ã‘</span>
            </div>
          </div>
        </div>
      </div>

      <div className="gap-visualization">
        <h2 className="section-title">4ã¤ã®è¦ç´ åˆ¥ã‚®ãƒ£ãƒƒãƒ—</h2>
        
        <div className="gap-chart-container">
          <div className="radar-section">
            <ResponsiveContainer width="100%" height={400}>
              <RadarChart data={gapData.dimensions}>
                <PolarGrid stroke="rgba(0, 51, 160, 0.1)" />
                <PolarAngleAxis 
                  dataKey="name" 
                  tick={{ fill: '#333', fontSize: 14, fontWeight: 600 }}
                />
                <PolarRadiusAxis angle={90} domain={[0, 100]} tick={{ fill: '#666' }} />
                <Radar 
                  name="ç›®æ¨™" 
                  dataKey="target" 
                  stroke="#FF6B00" 
                  fill="#FF6B00" 
                  fillOpacity={0.25}
                  strokeWidth={2}
                />
                <Radar 
                  name="ç¾åœ¨" 
                  dataKey="current" 
                  stroke="#0033A0" 
                  fill="#0033A0" 
                  fillOpacity={0.4}
                  strokeWidth={2}
                />
              </RadarChart>
            </ResponsiveContainer>
            <div className="legend">
              <div className="legend-item">
                <div className="legend-color current"></div>
                <span>ç¾åœ¨ã®ã‚ãªãŸ</span>
              </div>
              <div className="legend-item">
                <div className="legend-color target"></div>
                <span>ç›®æ¨™ã®çŠ¶æ…‹</span>
              </div>
            </div>
          </div>

          <div className="gap-details">
            {gapData.dimensions.map((dim, idx) => (
              <div key={idx} className="gap-detail-card">
                <div className="gap-header">
                  <h4>{dim.name}</h4>
                  <span className="gap-badge">ã‚®ãƒ£ãƒƒãƒ—: {dim.gap}pt</span>
                </div>
                <div className="gap-comparison">
                  <div className="comparison-item current">
                    <span className="label">ç¾åœ¨</span>
                    <span className="value">{dim.currentLabel}</span>
                    <div className="bar">
                      <div className="fill" style={{ width: `${dim.current}%` }}></div>
                      <span className="score">{dim.current}pt</span>
                    </div>
                  </div>
                  <div className="comparison-item target">
                    <span className="label">ç›®æ¨™</span>
                    <span className="value">{dim.targetLabel}</span>
                    <div className="bar">
                      <div className="fill" style={{ width: `${dim.target}%` }}></div>
                      <span className="score">{dim.target}pt</span>
                    </div>
                  </div>
                </div>
                <div className="impact-note">
                  <TrendingUp size={16} />
                  <span>{dim.impact}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      <button className="next-button" onClick={() => setActiveStep(2)}>
        é¡ä¼¼ã‚­ãƒ£ãƒªã‚¢ã®æˆåŠŸãƒ»å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã‚‹
        <ChevronRight size={20} />
      </button>
    </div>
  );

  // Step 2: ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ
  const CareerPatternComparison = () => (
    <div className="pattern-comparison-container">
      <div className="header-section">
        <div className="breadcrumb">
          <span>ãƒ›ãƒ¼ãƒ </span>
          <ChevronRight size={16} />
          <span>ã‚®ãƒ£ãƒƒãƒ—åˆ†æ</span>
          <ChevronRight size={16} />
          <span className="current">ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ</span>
        </div>
        <h1 className="page-title">
          <Users size={32} />
          é¡ä¼¼ã‚­ãƒ£ãƒªã‚¢ã¨ã®æ¯”è¼ƒ
        </h1>
        <p className="page-description">
          ã‚ãªãŸã¨ä¼¼ãŸçµŒæ­´ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã€ã©ã®ã‚ˆã†ãªé¸æŠã§æˆåŠŸãƒ»åœæ»ã—ãŸã‹ã‚’æ¯”è¼ƒã—ã¾ã™
        </p>
      </div>

      <div className="similarity-badges">
        <div className="similarity-badge success">
          <CheckCircle2 size={20} />
          <span>Aã•ã‚“ï¼ˆæˆåŠŸï¼‰ã¨ã®é¡ä¼¼åº¦: {careerPatterns.success.similarity}%</span>
        </div>
        <div className="similarity-badge failure">
          <AlertCircle size={20} />
          <span>Bã•ã‚“ï¼ˆåœæ»ï¼‰ã¨ã®é¡ä¼¼åº¦: {careerPatterns.failure.similarity}%</span>
        </div>
      </div>

      <div className="three-way-comparison">
        {/* Aã•ã‚“ï¼ˆæˆåŠŸï¼‰ */}
        <div className="career-column success">
          <div className="column-header">
            <CheckCircle2 size={24} />
            <h3>{careerPatterns.success.name}</h3>
            <span className="result-badge success">å¹´å 1,150ä¸‡å††é”æˆ</span>
          </div>
          
          <div className="timeline">
            {careerPatterns.success.timeline.map((item, idx) => (
              <div key={idx} className="timeline-item positive">
                <div className="timeline-marker positive">
                  <div className="marker-dot"></div>
                  {idx < careerPatterns.success.timeline.length - 1 && <div className="marker-line"></div>}
                </div>
                <div className="timeline-content">
                  <div className="year-label">{item.year}</div>
                  <div className="company-type-badge success">{item.type === 'è‡ªç¤¾' ? 'è‡ªç¤¾é–‹ç™º' : 'å—è¨—é–‹ç™º'}</div>
                  <div className="company-name">{item.company}</div>
                  <div className="role-title">{item.role}</div>
                  <div className="salary-tag">Â¥{item.salary}ä¸‡</div>
                  <div className="responsibility">{item.responsibility}</div>
                  <div className="skills">
                    {item.skills.map((skill, sidx) => (
                      <span key={sidx} className="skill-tag">{skill}</span>
                    ))}
                  </div>
                  {item.action && (
                    <div className="action-taken">
                      <Award size={14} />
                      <span>{item.action}</span>
                    </div>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* ã‚ãªãŸï¼ˆç¾åœ¨ï¼‰ */}
        <div className="career-column you">
          <div className="column-header">
            <Target size={24} />
            <h3>{careerPatterns.you.name}</h3>
            <span className="result-badge neutral">å¹´å {currentProfile.currentSalary}ä¸‡å††</span>
          </div>
          
          <div className="timeline">
            {careerPatterns.you.timeline.map((item, idx) => (
              <div key={idx} className={`timeline-item ${item.hasGap ? 'has-gap' : ''}`}>
                <div className={`timeline-marker ${item.hasGap ? 'gap' : 'neutral'}`}>
                  <div className="marker-dot"></div>
                  {idx < careerPatterns.you.timeline.length - 1 && <div className="marker-line"></div>}
                </div>
                <div className="timeline-content">
                  <div className="year-label">{item.year}</div>
                  <div className="company-type-badge neutral">{item.type === 'è‡ªç¤¾' ? 'è‡ªç¤¾é–‹ç™º' : 'å—è¨—é–‹ç™º'}</div>
                  <div className="company-name">{item.company}</div>
                  <div className="role-title">{item.role}</div>
                  <div className="salary-tag">Â¥{item.salary}ä¸‡</div>
                  <div className="responsibility">{item.responsibility}</div>
                  <div className="skills">
                    {item.skills.map((skill, sidx) => (
                      <span key={sidx} className="skill-tag">{skill}</span>
                    ))}
                  </div>
                  {item.hasGap && item.gapReasons && (
                    <div className="gap-reasons">
                      <AlertCircle size={14} />
                      <div className="reasons-list">
                        {item.gapReasons.map((reason, ridx) => (
                          <div key={ridx} className="reason-item">
                            <XCircle size={12} />
                            <span>{reason}</span>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Bã•ã‚“ï¼ˆåœæ»ï¼‰ */}
        <div className="career-column failure">
          <div className="column-header">
            <AlertCircle size={24} />
            <h3>{careerPatterns.failure.name}</h3>
            <span className="result-badge failure">å¹´å 800ä¸‡å††ã§åœæ»</span>
          </div>
          
          <div className="timeline">
            {careerPatterns.failure.timeline.map((item, idx) => (
              <div key={idx} className={`timeline-item ${item.hasGap ? 'negative' : ''}`}>
                <div className={`timeline-marker ${item.hasGap ? 'negative' : 'neutral'}`}>
                  <div className="marker-dot"></div>
                  {idx < careerPatterns.failure.timeline.length - 1 && <div className="marker-line"></div>}
                </div>
                <div className="timeline-content">
                  <div className="year-label">{item.year}</div>
                  <div className="company-type-badge failure">{item.type === 'è‡ªç¤¾' ? 'è‡ªç¤¾é–‹ç™º' : 'å—è¨—é–‹ç™º'}</div>
                  <div className="company-name">{item.company}</div>
                  <div className="role-title">{item.role}</div>
                  <div className="salary-tag">Â¥{item.salary}ä¸‡</div>
                  <div className="responsibility">{item.responsibility}</div>
                  <div className="skills">
                    {item.skills.map((skill, sidx) => (
                      <span key={sidx} className="skill-tag">{skill}</span>
                    ))}
                  </div>
                  {item.hasGap && item.gapReasons && (
                    <div className="gap-reasons negative">
                      <AlertCircle size={14} />
                      <div className="reasons-list">
                        {item.gapReasons.map((reason, ridx) => (
                          <div key={ridx} className="reason-item">
                            <XCircle size={12} />
                            <span>{reason}</span>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      <div className="insights-section">
        <h2 className="section-title">æˆåŠŸã¨å¤±æ•—ã®åˆ†å²ç‚¹</h2>
        <div className="insights-grid">
          <div className="insight-card success">
            <h4>
              <CheckCircle2 size={20} />
              Aã•ã‚“ãŒæˆåŠŸã—ãŸç†ç”±
            </h4>
            <ul>
              <li>2å¹´ç›®ã«éœ€è¦ã®é«˜ã„æŠ€è¡“ï¼ˆAWSãƒ»Goï¼‰ã‚’ç¿’å¾—</li>
              <li>3å¹´ç›®ã«è‡ªç¤¾é–‹ç™ºä¼æ¥­ã¸è»¢è·ï¼ˆå•†æµæ”¹å–„ï¼‰</li>
              <li>è¨­è¨ˆãƒ»æŠ€è¡“é¸å®šã®æ¨©é™ã‚’ç²å¾—ï¼ˆå½¹å‰²å‘ä¸Šï¼‰</li>
              <li>5å¹´ç›®ã§ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ã‚’é–‹å§‹</li>
            </ul>
          </div>
          <div className="insight-card failure">
            <h4>
              <XCircle size={20} />
              Bã•ã‚“ãŒåœæ»ã—ãŸç†ç”±
            </h4>
            <ul>
              <li>åŒã˜æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§5å¹´é–“ï¼ˆéœ€è¦ãŒä½ä¸‹ï¼‰</li>
              <li>å—è¨—é–‹ç™ºã‹ã‚‰è„±å´ã›ãšï¼ˆå•†æµå›ºå®šï¼‰</li>
              <li>å®Ÿè£…ã®ã¿ã§è¨­è¨ˆæ¨©é™ãªã—ï¼ˆå½¹å‰²åœæ»ï¼‰</li>
              <li>ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆçµŒé¨“ã®æ©Ÿä¼šãªã—</li>
            </ul>
          </div>
        </div>
      </div>

      <button className="next-button" onClick={() => setActiveStep(3)}>
        å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã‚’è¦‹ã‚‹
        <ChevronRight size={20} />
      </button>
    </div>
  );

  // Step 3: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
  const ActionPlanView = () => (
    <div className="action-plan-container">
      <div className="header-section">
        <div className="breadcrumb">
          <span>ãƒ›ãƒ¼ãƒ </span>
          <ChevronRight size={16} />
          <span>ã‚®ãƒ£ãƒƒãƒ—åˆ†æ</span>
          <ChevronRight size={16} />
          <span>ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ</span>
          <ChevronRight size={16} />
          <span className="current">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³</span>
        </div>
        <h1 className="page-title">
          <Briefcase size={32} />
          ã‚ãªãŸå°‚ç”¨ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
        </h1>
        <p className="page-description">
          æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åŸºã«ã€å…·ä½“çš„ãªè¡Œå‹•è¨ˆç”»ã‚’ææ¡ˆã—ã¾ã™
        </p>
      </div>

      <div className="roadmap-overview">
        <h2 className="section-title">ã‚­ãƒ£ãƒªã‚¢ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</h2>
        <div className="roadmap-visual">
          <div className="roadmap-step current">
            <div className="step-marker">ğŸ“</div>
            <div className="step-content">
              <span className="step-label">ç¾åœ¨</span>
              <span className="step-role">{currentProfile.currentRole}</span>
              <span className="step-salary">Â¥{currentProfile.currentSalary}ä¸‡</span>
            </div>
          </div>
          <div className="roadmap-arrow">
            <ArrowRight size={24} />
            <span className="duration">6ãƒ¶æœˆã€œ1å¹´</span>
          </div>
          <div className="roadmap-step next">
            <div className="step-marker">ğŸ¯</div>
            <div className="step-content">
              <span className="step-label">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</span>
              <span className="step-role">ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰</span>
              <span className="step-salary">Â¥900-1,000ä¸‡</span>
            </div>
          </div>
          <div className="roadmap-arrow">
            <ArrowRight size={24} />
            <span className="duration">1ã€œ2å¹´</span>
          </div>
          <div className="roadmap-step goal">
            <div className="step-marker">ğŸ†</div>
            <div className="step-content">
              <span className="step-label">ç›®æ¨™</span>
              <span className="step-role">{currentProfile.targetRole}</span>
              <span className="step-salary">Â¥{currentProfile.targetSalary}ä¸‡+</span>
            </div>
          </div>
        </div>
      </div>

      <div className="action-plan-list">
        <h2 className="section-title">å„ªå…ˆé †ä½åˆ¥ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
        {actionPlan.map((action, idx) => (
          <div key={idx} className={`action-card priority-${action.priority}`}>
            <div className="action-header">
              <div className="action-meta">
                <span className={`priority-badge ${action.priority}`}>{action.priority}</span>
                <span className="period-badge">
                  <Clock size={14} />
                  {action.period}
                </span>
              </div>
            </div>
            
            <h3 className="action-title">{action.action}</h3>
            
            <div className="action-body">
              <div className="why-important">
                <strong>ãªãœé‡è¦ã‹:</strong>
                <p>{action.whyImportant}</p>
              </div>
              
              <div className="impact-section">
                <div className="impact-badge">
                  <TrendingUp size={16} />
                  <div>
                    <span className="impact-dimension">{action.impact.dimension}</span>
                    <span className="impact-point">{action.impact.point}</span>
                  </div>
                </div>
                <span className="salary-impact">{action.impact.salary}</span>
              </div>
              
              <div className="next-steps">
                <strong>å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—:</strong>
                <p>{action.nextStep}</p>
              </div>
            </div>
          </div>
        ))}
      </div>

      <div className="recommended-jobs">
        <h2 className="section-title">æ¨å¥¨æ±‚äºº</h2>
        <p className="recommended-description">
          ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã«æ²¿ã£ãŸä¼æ¥­ãƒ»æ±‚äººã‚’15ä»¶è¦‹ã¤ã‘ã¾ã—ãŸ
        </p>
        <div className="job-preview">
          <div className="job-card">
            <div className="match-rate">
              <div className="match-circle">82%</div>
              <span>ãƒãƒƒãƒç‡</span>
            </div>
            <div className="job-info">
              <h4>SaaSä¼æ¥­ã§ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</h4>
              <p className="company">æˆé•·ä¸­ã®BtoB SaaSä¼æ¥­</p>
              <div className="job-tags">
                <span className="tag">Go</span>
                <span className="tag">AWS</span>
                <span className="tag">æŠ€è¡“é¸å®šæ¨©é™ã‚ã‚Š</span>
              </div>
              <div className="salary-range">Â¥800-1,100ä¸‡</div>
            </div>
          </div>
        </div>
        <button className="view-all-jobs">
          å…¨15ä»¶ã®æ¨å¥¨æ±‚äººã‚’è¦‹ã‚‹
          <ChevronRight size={20} />
        </button>
      </div>
    </div>
  );

  return (
    <div className="app">
      <nav className="navbar">
        <div className="nav-container">
          <div className="nav-brand">
            <div className="logo">ãƒ¬ãƒãƒ†ãƒƒã‚¯ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</div>
          </div>
          <div className="nav-steps">
            <button 
              className={`step-btn ${activeStep === 1 ? 'active' : ''}`}
              onClick={() => setActiveStep(1)}
            >
              <span className="step-number">1</span>
              ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
            </button>
            <button 
              className={`step-btn ${activeStep === 2 ? 'active' : ''}`}
              onClick={() => setActiveStep(2)}
            >
              <span className="step-number">2</span>
              ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ
            </button>
            <button 
              className={`step-btn ${activeStep === 3 ? 'active' : ''}`}
              onClick={() => setActiveStep(3)}
            >
              <span className="step-number">3</span>
              ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³
            </button>
          </div>
        </div>
      </nav>

      <main className={`main-content ${animateIn ? 'animate' : ''}`}>
        {activeStep === 1 && <GapAnalysis />}
        {activeStep === 2 && <CareerPatternComparison />}
        {activeStep === 3 && <ActionPlanView />}
      </main>

      <style jsx>{`
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        .app {
          min-height: 100vh;
          background: #f5f7fa;
          font-family: 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
          color: #333;
        }

        /* Navbar - ãƒ¬ãƒãƒ†ãƒƒã‚¯é¢¨ */
        .navbar {
          background: #0033A0;
          box-shadow: 0 2px 8px rgba(0, 51, 160, 0.1);
          position: sticky;
          top: 0;
          z-index: 100;
        }

        .nav-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem 2rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .logo {
          color: white;
          font-size: 1.5rem;
          font-weight: 700;
        }

        .nav-steps {
          display: flex;
          gap: 1rem;
        }

        .step-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          background: transparent;
          border: 1px solid rgba(255, 255, 255, 0.3);
          color: rgba(255, 255, 255, 0.8);
          padding: 0.5rem 1rem;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 0.875rem;
        }

        .step-number {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.2);
          font-weight: 700;
        }

        .step-btn:hover {
          background: rgba(255, 255, 255, 0.1);
          border-color: rgba(255, 255, 255, 0.5);
        }

        .step-btn.active {
          background: #FF6B00;
          border-color: #FF6B00;
          color: white;
        }

        .step-btn.active .step-number {
          background: rgba(255, 255, 255, 0.3);
        }

        /* Main Content */
        .main-content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 2rem;
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.5s ease;
        }

        .main-content.animate {
          opacity: 1;
          transform: translateY(0);
        }

        /* Header Section */
        .header-section {
          margin-bottom: 2rem;
        }

        .breadcrumb {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .breadcrumb .current {
          color: #0033A0;
          font-weight: 600;
        }

        .page-title {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-size: 2rem;
          font-weight: 700;
          color: #0033A0;
          margin-bottom: 0.75rem;
        }

        .page-description {
          font-size: 1rem;
          color: #666;
          line-height: 1.6;
        }

        /* Profile Summary */
        .profile-summary {
          display: grid;
          grid-template-columns: 1fr auto 1fr;
          gap: 2rem;
          margin-bottom: 3rem;
        }

        .profile-card {
          background: white;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          padding: 2rem;
        }

        .profile-card.target {
          border-color: #FF6B00;
          background: linear-gradient(135deg, rgba(255, 107, 0, 0.05), white);
        }

        .profile-card h3 {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1.5rem;
          text-align: center;
        }

        .profile-details {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          padding-bottom: 0.75rem;
          border-bottom: 1px solid #f0f0f0;
        }

        .detail-row .label {
          font-size: 0.875rem;
          color: #666;
        }

        .detail-row .value {
          font-weight: 600;
          color: #333;
        }

        .detail-row .highlight {
          color: #0033A0;
          font-size: 1.25rem;
        }

        .detail-row .highlight-target {
          color: #FF6B00;
          font-size: 1.25rem;
        }

        .arrow-between {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
          color: #999;
        }

        .gap-amount {
          font-size: 0.875rem;
          font-weight: 600;
          color: #FF6B00;
        }

        /* Gap Visualization */
        .gap-visualization {
          background: white;
          border-radius: 8px;
          padding: 2rem;
          margin-bottom: 2rem;
        }

        .section-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: #0033A0;
          margin-bottom: 2rem;
        }

        .gap-chart-container {
          display: grid;
          grid-template-columns: 500px 1fr;
          gap: 3rem;
        }

        .radar-section {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .legend {
          display: flex;
          gap: 2rem;
          margin-top: 1rem;
        }

        .legend-item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
        }

        .legend-color {
          width: 16px;
          height: 16px;
          border-radius: 2px;
        }

        .legend-color.current {
          background: #0033A0;
        }

        .legend-color.target {
          background: #FF6B00;
        }

        .gap-details {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }

        .gap-detail-card {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 1.5rem;
          background: #fafafa;
        }

        .gap-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
        }

        .gap-header h4 {
          font-size: 1.125rem;
          color: #333;
        }

        .gap-badge {
          background: #FFF3E0;
          color: #FF6B00;
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          font-size: 0.875rem;
          font-weight: 600;
        }

        .gap-comparison {
          display: flex;
          flex-direction: column;
          gap: 1rem;
          margin-bottom: 1rem;
        }

        .comparison-item {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .comparison-item .label {
          font-size: 0.75rem;
          color: #666;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .comparison-item .value {
          font-size: 0.875rem;
          color: #333;
          font-weight: 600;
        }

        .bar {
          position: relative;
          height: 32px;
          background: #e5e7eb;
          border-radius: 4px;
          overflow: hidden;
        }

        .bar .fill {
          position: absolute;
          height: 100%;
          background: linear-gradient(90deg, #0033A0, #0055CC);
          transition: width 0.6s ease;
        }

        .comparison-item.target .bar .fill {
          background: linear-gradient(90deg, #FF6B00, #FF8C33);
        }

        .bar .score {
          position: absolute;
          right: 0.75rem;
          top: 50%;
          transform: translateY(-50%);
          font-size: 0.875rem;
          font-weight: 600;
          color: white;
        }

        .impact-note {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
          color: #FF6B00;
          font-weight: 600;
        }

        /* Career Pattern Comparison */
        .similarity-badges {
          display: flex;
          gap: 1rem;
          margin-bottom: 2rem;
        }

        .similarity-badge {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.25rem;
          border-radius: 8px;
          font-size: 0.875rem;
          font-weight: 600;
        }

        .similarity-badge.success {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .similarity-badge.failure {
          background: #FFEBEE;
          color: #C62828;
        }

        .three-way-comparison {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 1.5rem;
          margin-bottom: 3rem;
        }

        .career-column {
          background: white;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          padding: 1.5rem;
        }

        .career-column.success {
          border-color: #4CAF50;
          background: linear-gradient(180deg, rgba(76, 175, 80, 0.05), white);
        }

        .career-column.you {
          border-color: #0033A0;
          background: linear-gradient(180deg, rgba(0, 51, 160, 0.05), white);
        }

        .career-column.failure {
          border-color: #F44336;
          background: linear-gradient(180deg, rgba(244, 67, 54, 0.05), white);
        }

        .column-header {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
          margin-bottom: 1.5rem;
        }

        .column-header h3 {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 1.125rem;
          color: #333;
        }

        .result-badge {
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          font-size: 0.75rem;
          font-weight: 600;
          width: fit-content;
        }

        .result-badge.success {
          background: #4CAF50;
          color: white;
        }

        .result-badge.neutral {
          background: #0033A0;
          color: white;
        }

        .result-badge.failure {
          background: #F44336;
          color: white;
        }

        .timeline {
          display: flex;
          flex-direction: column;
        }

        .timeline-item {
          display: flex;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .timeline-marker {
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .marker-dot {
          width: 12px;
          height: 12px;
          border-radius: 50%;
          background: #0033A0;
          border: 3px solid white;
          box-shadow: 0 0 0 2px #0033A0;
          z-index: 1;
        }

        .timeline-marker.positive .marker-dot {
          background: #4CAF50;
          box-shadow: 0 0 0 2px #4CAF50;
        }

        .timeline-marker.negative .marker-dot {
          background: #F44336;
          box-shadow: 0 0 0 2px #F44336;
        }

        .timeline-marker.gap .marker-dot {
          background: #FF9800;
          box-shadow: 0 0 0 2px #FF9800;
        }

        .marker-line {
          width: 2px;
          flex: 1;
          background: linear-gradient(180deg, #0033A0, rgba(0, 51, 160, 0.3));
          margin-top: 0.5rem;
        }

        .timeline-marker.positive .marker-line {
          background: linear-gradient(180deg, #4CAF50, rgba(76, 175, 80, 0.3));
        }

        .timeline-marker.negative .marker-line {
          background: linear-gradient(180deg, #F44336, rgba(244, 67, 54, 0.3));
        }

        .timeline-content {
          flex: 1;
          padding-bottom: 1rem;
        }

        .year-label {
          font-size: 0.75rem;
          color: #666;
          font-weight: 600;
          margin-bottom: 0.5rem;
        }

        .company-type-badge {
          display: inline-block;
          padding: 0.25rem 0.5rem;
          border-radius: 3px;
          font-size: 0.75rem;
          font-weight: 600;
          margin-bottom: 0.5rem;
        }

        .company-type-badge.success {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .company-type-badge.neutral {
          background: #E3F2FD;
          color: #1565C0;
        }

        .company-type-badge.failure {
          background: #FFEBEE;
          color: #C62828;
        }

        .company-name {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 0.25rem;
        }

        .role-title {
          font-size: 1rem;
          font-weight: 700;
          color: #333;
          margin-bottom: 0.5rem;
        }

        .salary-tag {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          background: #0033A0;
          color: white;
          border-radius: 4px;
          font-size: 0.875rem;
          font-weight: 600;
          margin-bottom: 0.75rem;
        }

        .responsibility {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 0.75rem;
        }

        .skills {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          margin-bottom: 0.75rem;
        }

        .skill-tag {
          padding: 0.25rem 0.5rem;
          background: #f0f0f0;
          border-radius: 3px;
          font-size: 0.75rem;
          color: #333;
        }

        .action-taken {
          display: flex;
          align-items: flex-start;
          gap: 0.5rem;
          padding: 0.75rem;
          background: #E8F5E9;
          border-left: 3px solid #4CAF50;
          border-radius: 4px;
          font-size: 0.875rem;
          color: #2E7D32;
          margin-top: 0.5rem;
        }

        .gap-reasons {
          padding: 0.75rem;
          background: #FFF3E0;
          border-left: 3px solid #FF9800;
          border-radius: 4px;
          margin-top: 0.5rem;
        }

        .gap-reasons.negative {
          background: #FFEBEE;
          border-left-color: #F44336;
        }

        .reasons-list {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          margin-top: 0.5rem;
        }

        .reason-item {
          display: flex;
          align-items: flex-start;
          gap: 0.5rem;
          font-size: 0.75rem;
          color: #D84315;
        }

        .gap-reasons.negative .reason-item {
          color: #C62828;
        }

        /* Insights Section */
        .insights-section {
          background: white;
          border-radius: 8px;
          padding: 2rem;
          margin-bottom: 2rem;
        }

        .insights-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 2rem;
        }

        .insight-card {
          border-radius: 8px;
          padding: 1.5rem;
        }

        .insight-card.success {
          background: #E8F5E9;
          border: 2px solid #4CAF50;
        }

        .insight-card.failure {
          background: #FFEBEE;
          border: 2px solid #F44336;
        }

        .insight-card h4 {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 1.125rem;
          margin-bottom: 1rem;
          color: #333;
        }

        .insight-card ul {
          list-style: none;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .insight-card li {
          padding-left: 1.5rem;
          position: relative;
          font-size: 0.875rem;
          line-height: 1.6;
        }

        .insight-card li::before {
          content: "â€¢";
          position: absolute;
          left: 0;
          font-weight: 700;
        }

        .insight-card.success li::before {
          color: #4CAF50;
        }

        .insight-card.failure li::before {
          color: #F44336;
        }

        /* Action Plan */
        .roadmap-overview {
          background: white;
          border-radius: 8px;
          padding: 2rem;
          margin-bottom: 2rem;
        }

        .roadmap-visual {
          display: flex;
          align-items: center;
          justify-content: space-between;
          max-width: 900px;
          margin: 0 auto;
        }

        .roadmap-step {
          text-align: center;
        }

        .step-marker {
          font-size: 3rem;
          margin-bottom: 0.5rem;
          filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .step-content {
          display: flex;
          flex-direction: column;
          gap: 0.25rem;
        }

        .step-label {
          font-size: 0.75rem;
          color: #666;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .step-role {
          font-size: 1rem;
          font-weight: 700;
          color: #333;
        }

        .step-salary {
          font-size: 1.125rem;
          font-weight: 700;
          color: #FF6B00;
        }

        .roadmap-arrow {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
          color: #999;
        }

        .duration {
          font-size: 0.75rem;
          color: #666;
        }

        .action-plan-list {
          background: white;
          border-radius: 8px;
          padding: 2rem;
          margin-bottom: 2rem;
        }

        .action-card {
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          padding: 1.5rem;
          margin-bottom: 1.5rem;
          transition: all 0.3s ease;
        }

        .action-card:hover {
          box-shadow: 0 4px 12px rgba(0, 51, 160, 0.1);
          transform: translateY(-2px);
        }

        .action-card.priority-æœ€å„ªå…ˆ {
          border-color: #FF6B00;
          background: linear-gradient(135deg, rgba(255, 107, 0, 0.05), white);
        }

        .action-header {
          margin-bottom: 1rem;
        }

        .action-meta {
          display: flex;
          gap: 0.75rem;
        }

        .priority-badge {
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          font-size: 0.75rem;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .priority-badge.æœ€å„ªå…ˆ {
          background: #FF6B00;
          color: white;
        }

        .priority-badge.å„ªå…ˆ {
          background: #FFB74D;
          color: white;
        }

        .priority-badge.é‡è¦ {
          background: #90CAF9;
          color: #0033A0;
        }

        .period-badge {
          display: flex;
          align-items: center;
          gap: 0.25rem;
          padding: 0.25rem 0.75rem;
          background: #f0f0f0;
          border-radius: 4px;
          font-size: 0.75rem;
          color: #666;
        }

        .action-title {
          font-size: 1.25rem;
          font-weight: 700;
          color: #0033A0;
          margin-bottom: 1rem;
        }

        .action-body {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .why-important,
        .next-steps {
          font-size: 0.875rem;
        }

        .why-important strong,
        .next-steps strong {
          display: block;
          margin-bottom: 0.5rem;
          color: #333;
        }

        .why-important p,
        .next-steps p {
          color: #666;
          line-height: 1.6;
        }

        .impact-section {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 1rem;
          background: #FFF3E0;
          border-radius: 8px;
        }

        .impact-badge {
          display: flex;
          align-items: center;
          gap: 0.75rem;
        }

        .impact-dimension {
          display: block;
          font-size: 0.75rem;
          color: #666;
        }

        .impact-point {
          display: block;
          font-size: 1.125rem;
          font-weight: 700;
          color: #FF6B00;
        }

        .salary-impact {
          font-size: 1rem;
          font-weight: 700;
          color: #FF6B00;
        }

        /* Recommended Jobs */
        .recommended-jobs {
          background: white;
          border-radius: 8px;
          padding: 2rem;
        }

        .recommended-description {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 1.5rem;
        }

        .job-preview {
          margin-bottom: 1.5rem;
        }

        .job-card {
          display: flex;
          gap: 2rem;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          padding: 1.5rem;
        }

        .match-rate {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
        }

        .match-circle {
          width: 80px;
          height: 80px;
          border-radius: 50%;
          background: linear-gradient(135deg, #0033A0, #0055CC);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 1.5rem;
          font-weight: 700;
        }

        .match-rate span {
          font-size: 0.75rem;
          color: #666;
        }

        .job-info {
          flex: 1;
        }

        .job-info h4 {
          font-size: 1.125rem;
          color: #0033A0;
          margin-bottom: 0.5rem;
        }

        .company {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 0.75rem;
        }

        .job-tags {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          margin-bottom: 0.75rem;
        }

        .tag {
          padding: 0.25rem 0.75rem;
          background: #E3F2FD;
          color: #0033A0;
          border-radius: 4px;
          font-size: 0.75rem;
          font-weight: 600;
        }

        .salary-range {
          font-size: 1.125rem;
          font-weight: 700;
          color: #FF6B00;
        }

        .view-all-jobs {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
          padding: 1rem;
          background: #FF6B00;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 1rem;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .view-all-jobs:hover {
          background: #E65100;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
        }

        /* Next Button */
        .next-button {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.75rem;
          width: 100%;
          max-width: 500px;
          margin: 2rem auto 0;
          padding: 1rem 2rem;
          background: #FF6B00;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 1.125rem;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .next-button:hover {
          background: #E65100;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .gap-chart-container {
            grid-template-columns: 1fr;
          }

          .three-way-comparison {
            grid-template-columns: 1fr;
          }

          .insights-grid {
            grid-template-columns: 1fr;
          }

          .profile-summary {
            grid-template-columns: 1fr;
          }

          .arrow-between {
            transform: rotate(90deg);
            margin: 1rem 0;
          }
        }

        @media (max-width: 768px) {
          .nav-steps {
            display: none;
          }

          .roadmap-visual {
            flex-direction: column;
            gap: 1.5rem;
          }

          .roadmap-arrow {
            transform: rotate(90deg);
          }
        }
      `}</style>
    </div>
  );
}
